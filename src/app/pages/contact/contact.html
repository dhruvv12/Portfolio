<section class="contact-section">
  <div class="container py-5">
    <!-- Page Header -->
    <div class="text-center mb-5">
      <h1 class="display-4 fw-bold text-white mb-3">Get In Touch</h1>
      <div class="title-underline"></div>
      <p class="lead text-white-50">Let's discuss your next project</p>
    </div>

    <div class="row g-4">
      <!-- Contact Form -->
      <div class="col-lg-7">
        <div class="contact-form-card">
          <h3 class="h4 text-info fw-bold mb-4">
            <i class="bi bi-chat-dots-fill me-2"></i>Send Me a Message
          </h3>

          <!-- Success Alert -->
          <div class="alert alert-success d-flex align-items-center" *ngIf="submitSuccess">
            <i class="bi bi-check-circle-fill me-2"></i>
            <div>Thank you! Your message has been sent successfully. I'll get back to you soon!</div>
          </div>

          <!-- Error Alert -->
          <div class="alert alert-danger d-flex align-items-center" *ngIf="submitError">
            <i class="bi bi-exclamation-triangle-fill me-2"></i>
            <div>Oops! Something went wrong. Please try again later.</div>
          </div>

          <form (ngSubmit)="onSubmit()" #contactForm="ngForm" class="contact-form">
            <!-- Name Field -->
            <div class="mb-4">
              <label for="name" class="form-label">
                <i class="bi bi-person me-2"></i>Your Name *
              </label>
              <input type="text" class="form-control" id="name" name="name" [(ngModel)]="formData.name" required
                minlength="2" placeholder="Enter your full name" [class.is-invalid]="validationErrors.name">
              <!-- ✅ Error message -->
              <div class="invalid-feedback" *ngIf="validationErrors.name">
                <i class="bi bi-exclamation-circle me-1"></i>{{ validationErrors.name }}
              </div>
            </div>

            <!-- Email Field -->
            <div class="mb-4">
              <label for="email" class="form-label">
                <i class="bi bi-envelope me-2"></i>Your Email *
              </label>
              <input type="email" class="form-control" id="email" name="email" [(ngModel)]="formData.email" required
                pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}" placeholder="your.email@example.com"
                (blur)="validateEmailOnBlur()" [class.is-invalid]="validationErrors.email">
              <!-- ✅ Error message -->
              <div class="invalid-feedback" *ngIf="validationErrors.email">
                <i class="bi bi-exclamation-circle me-1"></i>{{ validationErrors.email }}
              </div>
            </div>

            <!-- Subject Field -->
            <div class="mb-4">
              <label for="subject" class="form-label">
                <i class="bi bi-chat-left-text me-2"></i>Subject *
              </label>
              <input type="text" class="form-control" id="subject" name="subject" [(ngModel)]="formData.subject"
                required minlength="3" placeholder="Brief subject of your message"
                [class.is-invalid]="validationErrors.subject">
              <!-- ✅ Error message -->
              <div class="invalid-feedback" *ngIf="validationErrors.subject">
                <i class="bi bi-exclamation-circle me-1"></i>{{ validationErrors.subject }}
              </div>
            </div>

            <!-- Message Field -->
            <div class="mb-4">
              <label for="message" class="form-label">
                <i class="bi bi-pencil-square me-2"></i>Your Message *
              </label>
              <textarea class="form-control" id="message" name="message" [(ngModel)]="formData.message" required
                minlength="10" rows="5" placeholder="Write your message here..."
                [class.is-invalid]="validationErrors.message"></textarea>
              <!-- ✅ Error message -->
              <div class="invalid-feedback" *ngIf="validationErrors.message">
                <i class="bi bi-exclamation-circle me-1"></i>{{ validationErrors.message }}
              </div>
            </div>

            <!-- Submit Button -->
            <div class="text-center">
              <button type="submit" class="btn btn-info btn-lg px-5" [disabled]="isSubmitting">
                <span *ngIf="!isSubmitting">
                  <i class="bi bi-send me-2"></i>Send Message
                </span>
                <span *ngIf="isSubmitting">
                  <span class="spinner-border spinner-border-sm me-2"></span>
                  Sending...
                </span>
              </button>
            </div>

            <!-- ✅ Success Message -->
            <div class="alert alert-success mt-4" *ngIf="submitSuccess">
              <i class="bi bi-check-circle me-2"></i>
              Message sent successfully! I'll get back to you soon.
            </div>

            <!-- ✅ Error Message -->
            <div class="alert alert-danger mt-4" *ngIf="submitError">
              <i class="bi bi-x-circle me-2"></i>
              Failed to send message. Please try again or email me directly.
            </div>
          </form>
        </div>
      </div>

      <!-- Contact Info Sidebar -->
      <div class="col-lg-5">
        <!-- Contact Information -->
        <div class="contact-info-card mb-4">
          <h3 class="h4 text-info fw-bold mb-4">
            <i class="bi bi-info-circle-fill me-2"></i>Contact Information
          </h3>

          <div class="contact-item" *ngFor="let info of contactInfo">
            <div class="contact-icon">
              <i class="bi bi-{{ info.icon }}"></i>
            </div>
            <div class="contact-details">
              <h4 class="h6 text-white-50 mb-1">{{ info.title }}</h4>
              <a *ngIf="info.link" [href]="info.link" class="text-white text-decoration-none fw-semibold">
                {{ info.value }}
              </a>
              <p *ngIf="!info.link" class="text-white mb-0 fw-semibold">
                {{ info.value }}
              </p>
            </div>
          </div>
        </div>

        <!-- Social Links -->
        <div class="social-card">
          <h3 class="h4 text-info fw-bold mb-4">
            <i class="bi bi-share-fill me-2"></i>Connect With Me
          </h3>
          <p class="text-white-50 mb-4">Follow me on social media for updates and insights</p>

          <div class="social-grid">
            <a *ngFor="let social of socialLinks" [href]="social.url" target="_blank" rel="noopener noreferrer"
              class="social-link-card">
              <div class="social-icon" [style.background]="social.color">
                <i class="bi bi-{{ social.icon }}"></i>
              </div>
              <span class="social-name">{{ social.name }}</span>
              <i class="bi bi-arrow-right-short arrow-icon"></i>
            </a>
          </div>
        </div>

        <!-- Availability -->
        <div class="availability-card mt-4">
          <div class="d-flex align-items-center">
            <div class="status-indicator"></div>
            <div class="ms-3">
              <h5 class="text-white mb-1 fw-bold">Currently Available</h5>
              <p class="text-white-50 small mb-0">
                Open to new opportunities and collaborations
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Map or Additional Info -->
    <div class="row mt-5">
      <div class="col-12">
        <div class="location-card">
          <div class="row align-items-center">
            <div class="col-lg-8">
              <h3 class="h4 text-info fw-bold mb-3">
                <i class="bi bi-geo-alt-fill me-2"></i>Based in Udaipur, Rajasthan
              </h3>
              <p class="text-white-50 mb-0">
                Working remotely and available for freelance projects worldwide.
                Open to both remote and on-site opportunities in India.
              </p>
            </div>
            <div class="col-lg-4 text-center mt-3 mt-lg-0">
              <div class="location-icon">
                <i class="bi bi-pin-map-fill"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>